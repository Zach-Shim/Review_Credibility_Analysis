{% extends "base.html" %}

{% block content %}
    <!-- Main header used across all the pages of the website -->
    <header>
        <h1>Results Page</h1>

        <!--Home Page Logo (Left Justified)-->
        <div>
            <a href="{% url 'index' %}" title="Home page">
                {% load static %}
                <img src="{% static 'images/logo.png' %}" alt="Logo for Fake Review Checker">
            </a>
        </div>
    </header>


    <!-- Main navigation bar (links to site's main sections) -->
    <nav>
        <a href="{% url 'index' %}" title="Search for a product you want to evaluate."></a>Search for A Product</a>
        <a href="{% url 'about' %}" title="More information about me"></a>About Me</a>
        
        <form action="/<str:product_ASIN>/results" method="post">
            <label for="asin_choice">Enter a product asin</label>
            <input id="asin_choice" type="text" name="asin_choice" value="{{ product_ASIN }}">
            <input type="submit" value="OK">
        </form>
    </nav>
    

    <!-- Page's main content-->
    <main>
        <article class="column">
            <h2>Credibility analysis report for ASIN: <strong>{{ currentAsin }}</strong></h2>

            <heading>
                <h2>Product Information</h2>
            </heading>
            <section>
                <ul>
                    <li>Product Asin: {{ product_ASIN }}</li>
                    <li>Product Category: {{ category }}</li>
                    <li>Product Site Link: <a href="{{ link }}"">Open in Amazon</a></li>
                    <li>Product Credbility: Poor</li>
                </ul>
            </section>

            <heading>
                <h2>Analysis Information</h2>
            </heading>
            <section>
                <table>
                    <tr>
                        <th>Methodology</th>
                        <th>Reviews Detected</th>
                        <th>Score for Category</th>
                        <th>Score for Product</th>
                    </tr>
                    <tr>
                        <td>Rating Value Anomaly</td>
                        <td> {{ totalRatingAnomalies }} </td>
                        <td> total category rate </td>
                        <td> {{ ratingAnomalyRate }} </td>
                    </tr>
                    <tr>
                        <td>Review Count Anomaly</td>
                        <td> {{ totalReviewAnomalies }}</td>
                        <td> total category rate </td>
                        <td> {{ reviewAnomalyRate }} </td>
                    </tr>
                    <tr>
                        <td>Incentivized Reviews</td>
                        <td> {{ totalIncentivized }} </td>
                        <td> total category rate </td>
                        <td> {{ incentivizedRatio }}</td>
                    </tr>
                    <tr>
                        <td>Duplicate Reviews</td>
                        <td> {{ totalDuplicate }} </td>
                        <td> total category rate </td>
                        <td> {{ duplicateRatio }}</td>
                    </tr>    
            </section>

            <header>
                <h2>Analysis Graphs</h2>
            </header>
            <section>
                <img src="data:image/png;base64, {{ figure|safe }}">
            </section>
        </article>
    </main>
    
    <footer>
        <p></p>
    </footer>
{% endblock %}